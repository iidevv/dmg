{"version":3,"sources":["webpack:///./assets/js/theme/brands.js","webpack:///./node_modules/core-js/modules/es6.regexp.match.js","webpack:///./assets/js/theme/themevale/themevale_AZbrands.js"],"names":["Brands","context","onReady","haloAZBrands","this","PageManager","anObject","toLength","advanceStringIndex","regExpExec","defined","MATCH","$match","maybeCallNative","regexp","O","fn","undefined","call","RegExp","String","res","done","value","rx","S","global","fullUnicode","unicode","lastIndex","result","A","n","matchStr","azWrapper","$","azNavigation","requestOptions","config","blog","posts","limit","themeSettings","brandpage_brands_per_page","template","parseListBrand","list","find","each","index","element","str","letter","data","length","match","append","i","children","removeClass","addClass","halo_brandlayout","utils","api","getPage","error","response","nextUrl","loadMoreBrands","url","on","event","preventDefault","$target","currentTarget","parent"],"mappings":"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","file":"theme-bundle.chunk.13.js","sourcesContent":["import PageManager from './page-manager';\r\nimport haloAZBrands from './themevale/themevale_AZbrands';\r\n\r\nexport default class Brands extends PageManager {\r\n    constructor(context) {\r\n        super(context);\r\n    }\r\n    \r\n\tonReady() {\r\n\t\thaloAZBrands(this.context);\r\n    }\r\n}\r\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","import utils from '@bigcommerce/stencil-utils';\r\n\r\nexport default function (context) {\r\n    const azWrapper = $('#haloAZBrandsWrapper'),\r\n        azNavigation = $('#haloAZBrandsTable');\r\n\r\n    const requestOptions = {\r\n        config: {\r\n            blog: {\r\n                posts: {\r\n                    limit: context.themeSettings.brandpage_brands_per_page,\r\n                },\r\n            },\r\n        },\r\n        template: 'themevale/halo-all-brands',\r\n    };\r\n\r\n    if (context.themeSettings.halo_brandlayout === 'aztable') {\r\n        getAllBrand();\r\n        brandNavigationEvent();\r\n    }\r\n\r\n    function getAllBrand(){\r\n        azWrapper.addClass('is-loading');\r\n\r\n        utils.api.getPage('/brands.php', requestOptions, (error, response) => {\r\n            if (error) {\r\n                return '';\r\n            }\r\n\r\n            var list = $(response);\r\n\r\n            parseListBrand(list);\r\n\r\n            const nextUrl = list.data('brands-list-next');\r\n\r\n            if (nextUrl) {\r\n                loadMoreBrands(nextUrl);\r\n            } else{\r\n                azWrapper.removeClass('is-loading');\r\n            }\r\n        });\r\n    }\r\n\r\n    function isLetter(str) {\r\n        return str.length === 1 && str.match(/[a-z]/i);\r\n    }\r\n\r\n    function brandNavigationEvent(){\r\n        azNavigation.on('click', 'a', (event) => {\r\n            event.preventDefault();\r\n\r\n            const $target = $(event.currentTarget);\r\n\r\n            azNavigation.children('li').removeClass('is-active');\r\n\r\n            $target.parent().addClass('is-active');\r\n\r\n            const letter = $target.data('href');\r\n\r\n            if (letter !== undefined || letter) {\r\n                azWrapper.removeClass('active-all');\r\n                azWrapper.find('.azBrands-group').removeClass('is-active');\r\n                azWrapper.find('[data-letter='+letter+']').addClass('is-active');\r\n            } else {\r\n                azWrapper.addClass('active-all');\r\n            }\r\n        });\r\n    }\r\n\r\n    function parseListBrand(list){\r\n        azWrapper.find('.azBrands-group').each((index, element) => {\r\n            var letter = $(element).data('letter');\r\n\r\n            if(!isLetter(letter)){\r\n                for (let i = 0; i < 10; i++) {\r\n                    $('.azBrands-group-list', element).append(list.find('[data-brand-letter='+i+']'));\r\n                }\r\n            } else {\r\n                $('.azBrands-group-list', element).append(list.find('[data-brand-letter='+letter+']'));\r\n            }\r\n\r\n            if($('.azBrands-group-list', element).children().length > 0){\r\n                azNavigation.find('[data-letter='+letter+']').removeClass('disable').addClass('has-letter');\r\n            }\r\n        });\r\n    }\r\n\r\n    function loadMoreBrands(url) {\r\n        utils.api.getPage(url, requestOptions, (error, response) => {\r\n            if (error) {\r\n                return '';\r\n            }\r\n\r\n            var list = $(response);\r\n\r\n            parseListBrand(list);\r\n\r\n            const nextUrl = list.data('brands-list-next');\r\n\r\n            if (nextUrl) {\r\n                loadMoreBrands(nextUrl);\r\n            } else{\r\n                azWrapper.removeClass('is-loading');\r\n            }\r\n        });\r\n    }\r\n}\r\n"],"sourceRoot":""}